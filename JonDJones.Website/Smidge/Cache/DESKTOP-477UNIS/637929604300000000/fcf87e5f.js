(function(){"use strict";function importController($scope,Upload){function upload(file){vm.buttonState="busy";Upload.upload({url:Umbraco.Sys.ServerVariables.uSyncSnapshots.snapshotService+"uploadFile",fields:{},file:file}).success(function(){vm.buttonState="success";submit()}).error(function(){vm.buttonState="error"})}function handleFiles(files){files&&files.length>0&&(vm.file=files[0])}function submit(){$scope.model.submit&&$scope.model.submit()}function close(){$scope.model.close&&$scope.model.close()}var vm=this;vm.upload=upload;vm.handleFiles=handleFiles;vm.close=close}angular.module("umbraco").controller("uSyncSnapshotImportController",importController)})()